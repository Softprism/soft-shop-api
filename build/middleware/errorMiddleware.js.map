{"version":3,"sources":["../../src/middleware/errorMiddleware.js"],"names":["errorHandler","err","req","res","next","console","log","status","json","success","msg","name","message"],"mappings":";;;;;;;AAAA,IAAMA,YAAY,GAAG,SAAfA,YAAe,CAACC,GAAD,EAAMC,GAAN,EAAWC,GAAX,EAAgBC,IAAhB,EAAyB;AAC5CC,EAAAA,OAAO,CAACC,GAAR,CAAY,GAAZ,EAAiBL,GAAjB;;AACA,MAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;AAC3B;AACAI,IAAAA,OAAO,CAACC,GAAR,CAAY,CAAZ;AACA,WAAOH,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE,KAAX;AAAkBC,MAAAA,GAAG,EAAET;AAAvB,KAArB,CAAP;AACD;;AAED,MAAIA,GAAG,CAACU,IAAJ,KAAa,iBAAjB,EAAoC;AAClC;AACAN,IAAAA,OAAO,CAACC,GAAR,CAAY,CAAZ;AACA,WAAOH,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE,KAAX;AAAkBC,MAAAA,GAAG,EAAET,GAAG,CAACW;AAA3B,KAArB,CAAP;AACD;;AAED,MAAIX,GAAG,CAACU,IAAJ,KAAa,mBAAjB,EAAsC;AACpC;AACAN,IAAAA,OAAO,CAACC,GAAR,CAAY,CAAZ;AACA,WAAOH,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE,KAAX;AAAkBC,MAAAA,GAAG,EAAE;AAAvB,KAArB,CAAP;AACD,GAlB2C,CAoB5C;;;AACAL,EAAAA,OAAO,CAACC,GAAR,CAAY,CAAZ;AACA,SAAOH,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,IAAAA,OAAO,EAAE,KAAX;AAAkBC,IAAAA,GAAG,EAAET,GAAG,CAACW;AAA3B,GAArB,CAAP;AACD,CAvBD","sourcesContent":["const errorHandler = (err, req, res, next) => {\r\n  console.log(111, err);\r\n  if (typeof err === \"string\") {\r\n    // custom application error\r\n    console.log(2);\r\n    return res.status(400).json({ success: false, msg: err });\r\n  }\r\n\r\n  if (err.name === \"ValidationError\") {\r\n    // mongoose validation error\r\n    console.log(2);\r\n    return res.status(400).json({ success: false, msg: err.message });\r\n  }\r\n\r\n  if (err.name === \"UnauthorizedError\") {\r\n    // jwt authentication error\r\n    console.log(2);\r\n    return res.status(401).json({ success: false, msg: \"Invalid Token\" });\r\n  }\r\n\r\n  // default to 500 server error\r\n  console.log(2);\r\n  return res.status(500).json({ success: false, msg: err.message });\r\n};\r\n\r\nexport { errorHandler };\r\n"],"file":"errorMiddleware.js"}